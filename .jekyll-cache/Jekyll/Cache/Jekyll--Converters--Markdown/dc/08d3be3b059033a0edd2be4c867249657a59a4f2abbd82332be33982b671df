I"<ul>
  <li>
    <p>이 글은 윈도우에서 <strong>IIS(인터넷 정보서비스, 이하 IIS)</strong>를 통해 FTP를 구축하는 과정을 정리합니다. Windows FTP서버는 FTP가 설정된 컴퓨터가 전원이 켜있는 상태에서만 이용가능하며 원격지에서 컴퓨터 전원관리를 위해서는 <a href="https://luvery93.github.io/articles/2017-09/change-router-to-iptime-a2003ns-mu">이글</a>을 통해 <strong>WOL 기능</strong>을 활용하시길 바랍니다.</p>
  </li>
  <li>
    <p>제어판에서 <strong>IIS - FTP 기능</strong>을 켭니다.</p>

    <p><img src="http://localhost:4000/img/2019-01-23-ftp-setting-with-iis/1.png" alt="1" /></p>

    <p><img src="http://localhost:4000/img/2019-01-23-ftp-setting-with-iis/2.png" alt="2" /></p>
  </li>
  <li>
    <p>FTP로 사용할 폴더를 생성합니다.</p>

    <p><img src="http://localhost:4000/img/2019-01-23-ftp-setting-with-iis/3.png" alt="3" /></p>
  </li>
  <li>
    <p><strong>시작 - 모든 프로그램 - Windows 관리 도구</strong>에서 <strong>IIS 관리자</strong>를 실행합니다.</p>

    <p><img src="http://localhost:4000/img/2019-01-23-ftp-setting-with-iis/4.png" alt="4" /></p>
  </li>
  <li>
    <p>IIS에서 사이트에 오른쪽 클릭 후 <strong>FTP 사이트 추가</strong>를 진행합니다.</p>

    <p><img src="http://localhost:4000/img/2019-01-23-ftp-setting-with-iis/5.png" alt="5" /></p>
  </li>
  <li>
    <p><strong>FTP 사이트 이름</strong>과 위에서 생성한 <strong>FTP 실제 폴더 경로</strong>를 설정합니다.</p>

    <p><img src="http://localhost:4000/img/2019-01-23-ftp-setting-with-iis/6.png" alt="6" /></p>
  </li>
  <li>
    <p>IP 주소는 기본 IPv4 주소나 지정하지 않은 <strong>기본 호스트주소</strong>로 설정하고 포트도 <strong>기본 21</strong>로 설정합니다. SSL 인증서가 있는 환경에서만 SSL을 허용합니다.</p>

    <p><img src="http://localhost:4000/img/2019-01-23-ftp-setting-with-iis/7.png" alt="7" /></p>
  </li>
  <li>
    <p>익명 인증은 FTP 사용 시 누구나 사용할 수 있도록 허용하는 것이고 기본 인증은 윈도우 로컬 계정이나 그룹에 한해 이용가능하도록 허용할 수 있습니다. 우선은 <strong>기본 인증과 모든 사용자에 대해 읽기/쓰기 권한</strong>을 넣습니다. 이 설정은 FTP사이트가 생성된 후 <strong>FTP 인증</strong>에서 변경할 수 있습니다.</p>

    <p><img src="http://localhost:4000/img/2019-01-23-ftp-setting-with-iis/8.png" alt="8" /></p>

    <p><img src="http://localhost:4000/img/2019-01-23-ftp-setting-with-iis/9.png" alt="9" /></p>

    <p><img src="http://localhost:4000/img/2019-01-23-ftp-setting-with-iis/10.png" alt="10" /></p>
  </li>
  <li>
    <p>다음으로 FTP에 사용할 계정을 생성합니다. <strong>윈도우 탐색기 - 내 PC에서 우클릭 - 관리 페이지</strong>를 엽니다.</p>

    <p><img src="http://localhost:4000/img/2019-01-23-ftp-setting-with-iis/11.png" alt="11" /></p>
  </li>
  <li>
    <p>관리페이지의 <strong>시스템 도구 - 로컬 사용자 및 그룹 - 사용자</strong>에서 기본 사용자(여기에서는 young)이 외에 FTP이용을 위한 새 사용자를 생성합니다.</p>

    <p><img src="http://localhost:4000/img/2019-01-23-ftp-setting-with-iis/12.png" alt="12" /></p>

    <p><img src="http://localhost:4000/img/2019-01-23-ftp-setting-with-iis/13.png" alt="13" /></p>

    <p><img src="http://localhost:4000/img/2019-01-23-ftp-setting-with-iis/14.png" alt="14" /></p>
  </li>
  <li>
    <p>다시 IIS로 돌아가 <strong>FTP 권한 부여 규칙</strong>을 선택합니다. 모든 사용자에 대해 허용된 권한 규칙을 제거하고 위에서 생성한 FTP 전용 계정에 권한을 부여합니다.</p>

    <p><img src="http://localhost:4000/img/2019-01-23-ftp-setting-with-iis/15.png" alt="15" /></p>

    <p><img src="http://localhost:4000/img/2019-01-23-ftp-setting-with-iis/16.png" alt="16" /></p>

    <p><img src="http://localhost:4000/img/2019-01-23-ftp-setting-with-iis/17.png" alt="17" /></p>

    <p><img src="http://localhost:4000/img/2019-01-23-ftp-setting-with-iis/18.png" alt="18" /></p>

    <p><img src="http://localhost:4000/img/2019-01-23-ftp-setting-with-iis/19.png" alt="19" /></p>
  </li>
  <li>
    <p>위 설정으로 <strong>내부망에서 FTP 사용</strong>은 완료되었습니다. 다음은 iptime사용자에 한해 <strong>포트포워딩 기능</strong>으로 외부에서 FTP 사용이 가능하도록 설정합니다. iptime 기본 설정은 <a href="https://luvery93.github.io/articles/2017-09/change-router-to-iptime-a2003ns-mu">이글</a>을 참고하여 DDNS설정을 해주시길 바랍니다. 공유기 관리페이지로 이동하여 FTP 설정합니다.</p>

    <p><img src="http://localhost:4000/img/2019-01-23-ftp-setting-with-iis/20.png" alt="20" /></p>

    <p><img src="http://localhost:4000/img/2019-01-23-ftp-setting-with-iis/21.png" alt="21" /></p>

    <p><img src="http://localhost:4000/img/2019-01-23-ftp-setting-with-iis/22.png" alt="22" /></p>
  </li>
  <li>
    <p>외부망에서 <strong>ftp://{DDNS 호스트이름}.iptime.org</strong> 를 탐색기에 검색하고 위에서 생성한 <strong>FTP 계정으로 접속</strong>후 정상적으로 FTP 사용이 가능합니다.</p>

    <p><img src="http://localhost:4000/img/2019-01-23-ftp-setting-with-iis/23.png" alt="23" /></p>

    <p><img src="http://localhost:4000/img/2019-01-23-ftp-setting-with-iis/24.png" alt="24" /></p>

    <p><img src="http://localhost:4000/img/2019-01-23-ftp-setting-with-iis/25.png" alt="25" /></p>

    <p><img src="http://localhost:4000/img/2019-01-23-ftp-setting-with-iis/26.png" alt="26" /></p>
  </li>
  <li>
    <p>FTP 이용시 아래와 같이 <strong>한글로 된 파일</strong>을 송수신할 때 발생하는 오류는 IIS에서 <strong>FTP 사이트 - 고급 설정 - UTF8허용</strong> 옵션을 <strong>False</strong>로 변경하고 재시작합니다.</p>

    <p><img src="http://localhost:4000/img/2019-01-23-ftp-setting-with-iis/27.JPG" alt="27" /></p>

    <p><img src="http://localhost:4000/img/2019-01-23-ftp-setting-with-iis/28.png" alt="28" /></p>
  </li>
  <li>
    <p>FTP 계정이 없이 <strong>익명 인증</strong>으로 이용할 때 외부망에서 접속이 불가한 경우 <a href="https://luvery93.github.io/articles/2018-07/add-ftp-inbound-option-in-windows-defender">이글</a>을 참고하시길 바랍니다.</p>
  </li>
</ul>
:ET